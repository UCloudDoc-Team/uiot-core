{{indexmenu_n>1}}
## 快速入门场景说明
为了快速的让您了解如何将您的设备连接到物联网平台，我们通过一个温湿度计向云端上报温度和湿度。

### 操作步骤

#### 创建产品与设备
将设备接入物联网平台的第一步是在平台创建产品和对应设备。产品相当于某一类设备的集合，该类设备具有相同的功能，您可以根据产品批量管理对应设备。

1. [注册](https://passport.ucloud.cn/#register)UCloud云服务
2. 登录进入UCloud[物联网平台](https://console.ucloud.cn/iot)
3. 创建产品  
   - 根据页面提示，创建一个产品，命名为智能夜灯，确定。
   - 创建完成后，点击产品的详情，可以对产品进行相应的配置，具体参考==创建产品链接==详细说明
   ==此处配图==
4. 创建设备
   - 点击设备管理->添加一个设备->随机生成->生成设备个数1个->确定
   - 创建完成后，点击设备的详情，具体描述可以参考==创建设备链接==详细说明
   ==此处配图==
5. 记录设备相关密钥   
   - 设备密钥包含：`产品ID` `设备序列号` `设备密码`，需要妥善保管好，后续测试需要使用。
   ==此处配图==


#### 建立设备与平台的连接
这里使用平台提供的设备端C-SDK，从而快速将设备接入到物联网平台。

在C-SDK的目录`src/mqtt`通过修改例程`mqtt-example.c`来与云平台进行通信。

该例程设备端通过linux环境进行模拟，上报'开关状态'到设备影子，同时接收设备影子下发的期望值。
（可能要提供一个win环境下的）

1. 下载[==设备端C-SDK链接==](???????)，详细可以看考==SDK使用详情链接==。
2. 修改代码`src/mqtt-example.c`
   - 修改设备密钥包含：`产品ID` `设备序列号` `设备密码`
     >```
     >#define PRODUCT_KEY      ""
     >#define DEVICE_NAME      ""
     >#define DEVICE_SECRET    ""
     >```
   - 修改上行逻辑，逻辑会每隔5秒钟交替上报'开关'状态。（注，实际开发中可以通过规则引擎将设备影子topic流转到MQ进行消费，详细参考==规则引擎==。）
     >```
     >#define PRODUCT_KEY      ""
     >#define DEVICE_NAME      ""
     >#define DEVICE_SECRET    ""
     >```
   - 修改下行控制逻辑，逻辑当设备影子更新时，会打印出应用服务的期望值。（注：实际应用中可以直接通过云端SDK的API更新设备影子，详细==可以参考云端SDK使用==。）
     >```
     >#define PRODUCT_KEY      ""
     >#define DEVICE_NAME      ""
     >#define DEVICE_SECRET    ""
     >```
3. 编译生成可执行文件`mqtt-example`
   >```
   >make distclean
   >make
   >```
4. 执行可执行文件
   >```
   >./mqtt-example
   >```
5. 查看打印日志
   - 设备影子收到的属性值变化
   ==这个有图片==
   - 客户端的打印
   ==这里有图片==
